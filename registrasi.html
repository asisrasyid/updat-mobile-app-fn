<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Managament Finance</title>
		<link rel="manifest" href="/updat-mobile-app-fn/manifest.json" />
  		<meta name="theme-color" content="#4CAF50"/>
  		<link rel="icon" href="https://cdn-icons-png.flaticon.com/512/906/906334.png" />

		<!-- all css -->
		<link rel="stylesheet" href="assets/css/bootstrap.min.css" />
		<link rel="stylesheet" href="assets/css/jquery-ui.css" />
		<link rel="stylesheet" href="assets/css/slick.css" />
		<link rel="stylesheet" href="assets/css/line-awesome.css" />
		<link rel="stylesheet" href="assets/css/nice-select.css" />
		<link rel="stylesheet" href="assets/css/style.css" />
		<link rel="stylesheet" href="assets/css/responsive.css" />
		<link rel="stylesheet" href="assets/sweetalert2/sweetalert2.css">
	</head>

	<body style="height:100vh;">
		<!-- Preloader -->
		<div class="preloader">
			<img src="assets/images/preloader.gif" alt="preloader" />
		</div>

		<!-- Settings -->
		<div class="theme_settings">
			<button type="button" id="settings_toggler">
				<i class="las la-cog"></i>
			</button>
			<h3>Themes settings</h3>

			<h5>Primary Colors</h5>
			<div class="setting_colors">
				<button data-color="#FD3D57" class="prime_1 change_prime_color">
					<i class="icon las la-check"></i>
				</button>
				<button data-color="#3498db" class="prime_2 change_prime_color">
					<i class="icon las la-check"></i>
				</button>
				<button data-color="#1abc9c" class="prime_3 change_prime_color">
					<i class="icon las la-check"></i>
				</button>
				<button data-color="#F79F1F" class="prime_4 change_prime_color">
					<i class="icon las la-check"></i>
				</button>
			</div>

			<h5>Secondary Colors</h5>
			<div class="setting_colors">
				<button data-color="#18181b" class="second_1 change_sec_color">
					<i class="icon las la-check"></i>
				</button>
				<button data-color="#1e293b" class="second_2 change_sec_color">
					<i class="icon las la-check"></i>
				</button>
				<button data-color="#374151" class="second_3 change_sec_color">
					<i class="icon las la-check"></i>
				</button>
				<button data-color="#44403c" class="second_4 change_sec_color">
					<i class="icon las la-check"></i>
				</button>
			</div>
		</div>

		<!--Login wrap-->
		<div class="register_wrap section_padding_b" style="height: 100vh; ">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-xl-5 col-lg-7 col-md-9">
						<div class="register_form padding_default" style="margin-top: 50px;">
							<h4 class="title_2">Created Account</h4>
							<p class="mb-4 text_md">Lets start the journey</p>
							<form action="">
								<div class="row">
									<div class="col-12">
										<div class="single_billing_inp">
											<label>Username <span>*</span></label>
											<input id="usernamedt" type="email" placeholder="username" class="input-styled" required/>
										</div>
									</div>
									<div class="col-12">
										<div class="single_billing_inp">
											<label>Password <span>*</span></label>
											<input id="Password" type="password" placeholder="type password" class="input-styled" required/>
										</div>
									</div>
									<div class="col-12">
										<div class="single_billing_inp">
											<label>Name <span>*</span></label>
											<input id="Name" type="text" placeholder="type you'r Name" class="input-styled" required/>
										</div>
									</div>
									<div class="col-12">
										<div class="single_billing_inp">
											<label>Email <span>*</span></label>
											<input id="Email" type="email" placeholder="sample@mail.com" class="input-styled" required/>
										</div>
									</div>
									<div class="col-12">
										<div class="single_billing_inp">
											<label>Spreedsheet Id <span>*</span></label>
											<input id="Spreedsheet" type="text" placeholder="type you'r spreedsheet Id" class="input-styled" required/>
										</div>
									</div>
									<div class="col-12 mt-3">
										<button id="submitbutton" type="submit" class="default_btn xs_btn rounded px-4 d-block w-100">Register</button>
									</div>
								</div>
							</form>
							<div class="dif_regway my-3">
								<span class="">Have an account?</span>
							</div>
							<p class="text-center mt-3 mb-0"> <a href="login.html" class="text-color">Sing-in Now</a></p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- all js -->
		<script src="assets/js/bootstrap.bundle.min.js"></script>
		<script src="assets/js/jquery-3.5.1.min.js"></script>
		<script src="assets/js/jquery-ui.min.js"></script>
		<script src="assets/js/slick.min.js"></script>
		<script src="assets/js/jquery.nice-select.min.js"></script>
		<script src="assets/sweetalert2/sweetalert2.js"></script>
		<script src="assets/js/app.js"></script>
		<script>
			$('.preloader').fadeOut(500, function(){ $('.preloader').remove(); } );
			const submitButton = document.getElementById("submitbutton");   
			document.getElementById("submitbutton").addEventListener("click", function(event) {
			  event.preventDefault(); 
			  $('.preloader').fadeIn(200);
			  submitButton.disabled = true;
			  submitButton.textContent = "Processing. . .";
			  const usernamedt = document.getElementById("usernamedt").value; 
			  const Password = document.getElementById("Password").value;
			  const Name = document.getElementById("Name").value;
			  const Email = document.getElementById("Email").value;
			  const Spreedsheet = document.getElementById("Spreedsheet").value;
		  
			  //const usernamedtVal = usernamedt.value;
			  //const pasdtVal = pasdt.value;
			  const urladd = `&usr=${usernamedt}&psw=${Password}&name=${Name}&email=${Email}&spreddsheet=${Spreedsheet}`
			  fetch(`https://script.google.com/macros/s/AKfycbyBfKNeW5yhAyL8BdaJo6AhkbVfEPeorcqOMjPElrCCZJU9sQpCKpWwGAAqSYqKSqFw2g/exec?dataset=Regis${urladd}`)
				.then(response => response.json())
				.then(data => {
					if (data.success) {
						submitButton.disabled = false;
						submitButton.textContent = "Register";
						Swal.fire({
     				     title: 'Selamat Datang!',
     				     text: data.message,
     				     icon: 'success',
     				     confirmButtonText: `Let's go!`
     				   }).then((result) =>{
						if (result.isConfirmed) {
							window.location.href = "login.html";
							}
					   })
     				 } else {
						submitButton.disabled = false;
						submitButton.textContent = "Register";
						$('.preloader').remove();
     				   Swal.fire({
     				     title: 'Ups Sorry!',
     				     text: data.message || 'Username atau password salah',
     				     icon: 'error',
     				     confirmButtonText: 'Try Again'
     				   });
     				 }
				})
				.catch(err => {
					submitButton.disabled = false;
					submitButton.textContent = "Login";
					$('.preloader').remove();
					Swal.fire({
					title: 'Ups!',
					text: err,
					icon: 'warning',
					confirmButtonText: 'Sorry!'
				  });
				});
			});
		  </script>
	</body>
</html>
